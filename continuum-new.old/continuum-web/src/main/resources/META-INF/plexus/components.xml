<component-set>
  <components>

    <!--
     |
     | System components
     |
     |-->

    <component>
      <role>org.codehaus.plexus.summit.pipeline.Pipeline</role>
      <implementation>org.codehaus.plexus.summit.pipeline.SummitPipeline</implementation>
      <lifecycle-handler>plexus-configurable</lifecycle-handler>
      <configuration>
        <valves>
          <valve>org.codehaus.continuum.web.pipeline.valve.ContinuumViewContextValve</valve>
          <valve>org.codehaus.continuum.web.pipeline.valve.LoginValve</valve>
          <valve>org.codehaus.continuum.web.pipeline.valve.ActionValve</valve>
          <valve>org.codehaus.plexus.summit.pipeline.valve.DetermineTargetValve</valve>
          <valve>org.codehaus.plexus.summit.pipeline.valve.ResolverValve</valve>
          <valve>org.codehaus.plexus.summit.pull.PullToolValve</valve>
          <valve>org.codehaus.plexus.summit.pipeline.valve.DisplayValve</valve>
        </valves>
      </configuration>
    </component>

    <!--
     |
     | Valves
     |
     |-->

    <!-- TODO: this should be moved to summit -->
    <component>
      <role>org.codehaus.plexus.summit.pipeline.valve.Valve</role>
      <role-hint>org.codehaus.plexus.summit.pull.PullToolValve</role-hint>
      <implementation>org.codehaus.plexus.summit.pull.PullToolValve</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.summit.pipeline.valve.Valve</role>
      <role-hint>org.codehaus.continuum.web.pipeline.valve.ContinuumViewContextValve</role-hint>
      <implementation>org.codehaus.continuum.web.pipeline.valve.ContinuumViewContextValve</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.plexus.i18n.I18N</role>
        </requirement>
        <requirement>
          <role>org.codehaus.continuum.web.ContinuumWeb</role>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.codehaus.plexus.summit.pipeline.valve.Valve</role>
      <role-hint>org.codehaus.continuum.web.pipeline.valve.LoginValve</role-hint>
      <implementation>org.codehaus.continuum.web.pipeline.valve.LoginValve</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.summit.pipeline.valve.Valve</role>
      <role-hint>org.codehaus.continuum.web.pipeline.valve.ActionValve</role-hint>
      <implementation>org.codehaus.continuum.web.pipeline.valve.ActionValve</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.continuum.web.action.ActionManager</role>
        </requirement>
      </requirements>
    </component>

    <!--
     |
     | Actions
     |
     |-->

    <component>
      <role>org.codehaus.continuum.web.action.ActionManager</role>
      <implementation>org.codehaus.continuum.web.action.DefaultActionManager</implementation>
      <requirements>
        <requirement>
          <field-name>actions</field-name>
          <role>org.codehaus.continuum.web.action.Action</role>
        </requirement>
      </requirements>
    </component>

    <!-- login -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>login</role-hint>
      <implementation>org.codehaus.continuum.web.action.Login</implementation>
    </component>

    <!-- addProjectPomUrl -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>addProjectPomUrl</role-hint>
      <implementation>org.codehaus.continuum.web.action.AddProjectPomUrl</implementation>
    </component>

    <!-- addProjectPomUrl -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>addMaven1ProjectPomUrl</role-hint>
      <implementation>org.codehaus.continuum.web.action.AddMaven1ProjectPomUrl</implementation>
    </component>

    <!-- showProjects -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>showProjects</role-hint>
      <implementation>org.codehaus.continuum.web.action.ShowProjects</implementation>
    </component>

    <!-- showProject -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>showProject</role-hint>
      <implementation>org.codehaus.continuum.web.action.ShowProject</implementation>
    </component>

    <!-- updateProject -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>updateProject</role-hint>
      <implementation>org.codehaus.continuum.web.action.UpdateProject</implementation>
    </component>

    <!-- updateProjectDescriptor -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>updateProjectDescriptor</role-hint>
      <implementation>org.codehaus.continuum.web.action.UpdateProjectDescriptor</implementation>
    </component>

    <!-- removeProject -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>removeProject</role-hint>
      <implementation>org.codehaus.continuum.web.action.RemoveProject</implementation>
    </component>

    <!-- showProjectBuilds -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>showProjectBuilds</role-hint>
      <implementation>org.codehaus.continuum.web.action.ShowProjectBuilds</implementation>
    </component>

    <!-- showExternalMaven2BuildResult -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>showExternalMaven2BuildResult</role-hint>
      <implementation>org.codehaus.continuum.web.action.ShowExternalMaven2BuildResultAction</implementation>
    </component>

    <!-- enqueueProject -->
    <component>
      <role>org.codehaus.continuum.web.action.Action</role>
      <role-hint>enqueueProject</role-hint>
      <implementation>org.codehaus.continuum.web.action.EnqueueProject</implementation>
    </component>

    <!--
     |
     | Socket listeners
     |
     -->

    <component>
      <role>org.codehaus.continuum.network.ConnectionFactory</role>
      <role-hint>url-registrar-server</role-hint>
      <implementation>org.codehaus.continuum.network.SimpleServerSocketConnectionFactory</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.continuum.network.ConnectionConsumer</role>
          <role-hint>url-registrar</role-hint>
        </requirement>
      </requirements>
      <configuration>
        <port>6790</port>
      </configuration>
    </component>

    <component>
      <role>org.codehaus.continuum.network.ConnectionConsumer</role>
      <role-hint>scm-registrar</role-hint>
      <implementation>org.codehaus.continuum.registration.socket.ScmSocketRegistrar</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.continuum.Continuum</role>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.codehaus.continuum.network.ConnectionConsumer</role>
      <role-hint>url-registrar</role-hint>
      <implementation>org.codehaus.continuum.registration.socket.UrlSocketRegistrar</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.continuum.Continuum</role>
        </requirement>
      </requirements>
    </component>

  </components>
</component-set>
